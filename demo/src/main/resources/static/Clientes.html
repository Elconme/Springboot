<!doctype html>
<html xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Business Frontpage - Start Bootstrap Template</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <!-- Bootstrap icons-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="css/styles.css" rel="stylesheet" />

    function validateForm() {
    try {
    var inputValue1 = document.getElementById("input1").value;
    var inputValue2 = document.getElementById("input2").value;
    const data = { user: inputValue1, password: inputValue2 };
    const address = '/login2';
    fetch(address, {
    method: 'POST',
    headers: {
    'Content-Type': 'application/json'
    },
    body: JSON.stringify(data)
    })
    .then(response => response.json())
    .then(data => {
    console.log(data);
    if(data.result == "OK") {
    console.log("Authenticated");
    document.location.href="/home.html";
    } else {
    alert("Credential not recognized");
    }
    });

    } catch (err) {
    console.error(err.message);
    }
    return false;
    }

</head>
<body>
<!-- Contact section-->
<section class="bg-white py-5">
    <div class="container px-5 my-5 px-5">
        <a class="navbar-brand" href="./index.html">
            <img src="./img/Iberdrola-logo.png" height="70" width="150"/>
        </a>
        <div class="text-center  text-success mb-5">
            <div class="feature bg-success bg-gradient text-white rounded-3 mb-3"><i class="bi bi-person-circle"></i></div>
            <h2 class="fw-bolder">Área Clientes</h2>
        </div>
        <div style="text-align:center">
            <a class="btn btn-outline-success btn-lg" style="margin-right:50px;" href="#sesion">Iniciar Sesión</a>
            <a class="btn btn-outline-success btn-lg" style="margin-left:50px;" href="#registro">Registrarse</a>
        </div>
        </div>
</section>
<section class="bg-light py-5" id="sesion">
    <div class="container px-5 my-5 px-5">
        <div class="text-center  text-success mb-5">
            <h4 class="mb-0">Inicia Sesión</h4>
        </div>
        <div class="row gx-5 justify-content-center">
            <div class="col-lg-6">
                <!-- * * * * * * * * * * * * * * *-->
                <!-- * * SB Forms Contact Form * *-->
                <!-- * * * * * * * * * * * * * * *-->
                <!-- This form is pre-integrated with SB Forms.-->
                <!-- To make this form functional, sign up at-->
                <!-- https://startbootstrap.com/solution/contact-forms-->
                <!-- to get an API token!-->
                <form method="post" action="/login2" onsubmit="return validateForm()">
                    <!--input type="text" name="user" id="input1" />
                    <input type="text" name="password" id="input2" /-->
                    <!-- Name input-->
                    <div class="form-floating mb-3">
                        <input class="form-control" id="usuario" type="text" placeholder="Introducir usuario..." data-sb-validations="required" />
                        <label for="usuario">Usuario</label>
                        <div class="invalid-feedback" data-sb-feedback="usuario:required">Se requiere el nombre de usuario.</div>
                    </div>
                    <!-- Contraseña input-->
                    <div class="form-floating mb-3">
                        <input class="form-control" id="contraseña" type="password" placeholder="Introducir contraseña..." data-sb-validations="required" />
                        <label for="contraseña">Contraseña</label>
                        <div class="invalid-feedback" data-sb-feedback="contraseña:required">Se requiere la contraseña.</div>
                    </div>
                    </div>
                    <!-- Submit success message-->
                    <!---->
                    <!-- This is what your users will see when the form-->
                    <!-- has successfully submitted-->
                    <div class="d-none" id="submitSuccessMessage">
                        <div class="text-center
                            <div class="fw-bolder">Ha iniciado sesión</div>
                            </div>
                    </div>
                    <!-- Submit error message-->
                    <!---->
                    <!-- This is what your users will see when there is-->
                    <!-- an error submitting the form-->
                    <div class="d-none" id="submitErrorMessage"><div class="text-center text-danger mb-3">¡Error iniciando sesión!</div></div>

                    <input type="submit" value="Enviar">
                    <!-- Submit Button>
                    <div class="d-grid"><button class="btn btn-success btn-lg" onclick="window.location.href='./Info_pers.html'" id="submitButton" type="submit">Iniciar Sesión</button></div-->
                </form>
            </div>
        </div>
    </div>
</section>
<section class="bg-white" id="registro">
    <div class="text-center text-success">
        <h4 class="fw-bolder">¿Aún no te has registrado?</h4>
        <p class="mb-4">
            Regístrate ya en <em>Mi Área Cliente</em> y ten acceso a toda tu información.<br/>
        </p>
        <div class="d-grid row gx-5 justify-content-center"><button class="btn btn-outline-success btn-lg" onclick="window.location.href='./Registro.html'" id="submitButton" type="submit">Registrarse</button></div>
    </div>
</section>
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
<!-- * *                               SB Forms JS                               * *-->
<!-- * * Activate your form at https://startbootstrap.com/solution/contact-forms * *-->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
<script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
</body>
</html>